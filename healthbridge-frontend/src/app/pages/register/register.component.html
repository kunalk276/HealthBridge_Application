<div
  class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-indigo-100 to-cyan-100 py-12 px-4">
  <div
    class="backdrop-blur-xl bg-white/40 border border-white/30 shadow-2xl rounded-2xl p-10 w-full max-w-lg transition-all duration-500 hover:scale-[1.01] hover:shadow-blue-200">
    
   <div class="text-center mb-8">
      <div class="mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg mb-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M16 12H8m8 0l-4-4m4 4l-4 4m0 0H8m4-4V8m0 8v4" />
        </svg>
      </div>
      <h2 class="text-3xl font-semibold text-gray-800 drop-shadow-sm">Create your account</h2>
      
    </div>


    <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)" class="space-y-5">

      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-language"></i>Preferred Language</label>
        <select [(ngModel)]="user.language" name="language" #language="ngModel" required
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 bg-white outline-none">
          <option value="" disabled selected>Select your language</option>
          <option *ngFor="let lang of languages" [value]="lang.code">{{ lang.label }}</option>
        </select>
        <p *ngIf="language.invalid && language.touched" class="text-red-500 text-xs mt-1">Please select a language.</p>
      </div>

     
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-user"></i>Username</label>
        <input type="text" [(ngModel)]="user.username" name="username" #username="ngModel" required minlength="3"
          pattern="^[^\s]+$" placeholder="Choose a username"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none" />
        <p *ngIf="username.errors?.['required'] && username.touched" class="text-red-500 text-xs mt-1">Username is
          required.</p>
        <p *ngIf="username.errors?.['pattern'] && username.touched" class="text-red-500 text-xs mt-1">No spaces allowed
          in username.</p>
        <p *ngIf="username.errors?.['minlength'] && username.touched" class="text-red-500 text-xs mt-1">Username must be
          at least 3 characters.</p>
      </div>

      <!-- Email -->
     <!-- <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input type="email" [(ngModel)]="user.email" name="email" #email="ngModel" required
          placeholder="Enter your email"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none" />
        <p *ngIf="email.errors?.['required'] && email.touched" class="text-red-500 text-xs mt-1">Email is required.</p>
        <p *ngIf="email.errors?.['email'] && email.touched" class="text-red-500 text-xs mt-1">Enter a valid email
          address.</p>
      </div>-->

      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-mobile"></i>Phone Number</label>
        <input type="text" [(ngModel)]="user.phone" name="phone" #phone="ngModel" required maxlength="10"
          (keypress)="onPhoneInput($event)" pattern="^[0-9]{10}$" inputmode="numeric"
          placeholder="Enter 10-digit phone number"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none" />
        <p *ngIf="phone.errors?.['required'] && phone.touched" class="text-red-500 text-xs mt-1">Phone number is
          required.</p>
        <p *ngIf="phone.errors?.['pattern'] && phone.touched" class="text-red-500 text-xs mt-1">Enter a valid 10-digit
          number.</p>
      </div>

      
      <div>
        <label class="block text-gray-700 font-medium mb-1"><i class="fa-solid fa-flag-usa"></i>State</label>
        <select [(ngModel)]="user.state" name="state" #state="ngModel" (change)="onStateChange()" required
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none bg-white">
          <option value="">Select State</option>
          <option *ngFor="let s of states" [value]="s.code">{{ s.name }}</option>
        </select>
        <p *ngIf="state.invalid && state.touched" class="text-red-500 text-xs mt-1">Please select your state.</p>
      </div>

      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-city"></i> City</label>
        <select [(ngModel)]="user.city" name="city" #city="ngModel" required
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 bg-white outline-none">
          <option value="" disabled selected>Select City</option>
          <option *ngFor="let c of cities" [value]="c">{{ c }}</option>
        </select>
        <p *ngIf="city.invalid && city.touched" class="text-red-500 text-xs mt-1">Please select your city.</p>
      </div>

      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-arrows-to-circle"></i> Area / Locality</label>
        <input type="text" [(ngModel)]="user.area" name="area" #area="ngModel" required
          placeholder="Enter your area or locality"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none" />
        <p *ngIf="area.invalid && area.touched" class="text-red-500 text-xs mt-1">Please enter your area.</p>
      </div>

      
      <div class="relative">
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-key"></i> Password</label>
        <input [type]="isPasswordVisible ? 'text' : 'password'" [(ngModel)]="user.password" name="password"
          #password="ngModel"
          required pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$" placeholder="Create a password"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none" />
        <i class="fa cursor-pointer absolute right-3 top-9 text-gray-500"
          [ngClass]="isPasswordVisible ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePasswordVisibility()"></i>
        <p *ngIf="password.errors?.['required'] && password.touched" class="text-red-500 text-xs mt-1">Password is
          required.</p>
        <p *ngIf="password.errors?.['pattern'] && password.touched" class="text-red-500 text-xs mt-1">Password must be
          8+ chars, include uppercase, number, and special character.</p>
      </div>

      
      <div class="relative">
        <label class="block text-sm font-medium text-gray-700 mb-1"><i class="fa-solid fa-lock-open"></i> Confirm Password</label>
        <input [type]="isConfirmPasswordVisible ? 'text' : 'password'" [(ngModel)]="user.confirmPassword"
          name="confirmPassword" #confirmPassword="ngModel" required placeholder="Re-enter password"
          class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-400 outline-none" />
        <i class="fa cursor-pointer absolute right-3 top-9 text-gray-500"
          [ngClass]="isConfirmPasswordVisible ? 'fa-eye-slash' : 'fa-eye'"
          (click)="toggleConfirmPasswordVisibility()"></i>
        <p *ngIf="confirmPassword.invalid && confirmPassword.touched" class="text-red-500 text-xs mt-1">Please confirm
          your password.</p>
        <p *ngIf="user.confirmPassword && user.password !== user.confirmPassword && confirmPassword.touched"
          class="text-red-500 text-xs mt-1">Passwords do not match.</p>
      </div>

      
      <div class="text-center mt-3">
        <p *ngIf="error && !registerForm.invalid" class="text-red-500 text-sm font-medium">{{ error }}</p>
        <p *ngIf="success" class="text-green-600 text-sm font-medium">{{ success }}</p>
      </div>

     
      <button type="submit" [disabled]="registerForm.invalid"
        class="w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2.5 rounded-xl font-semibold shadow-md hover:shadow-lg active:scale-95 transition-all disabled:opacity-60">
        Register
      </button>
    </form>

    <div class="text-center mt-6 text-sm text-gray-600">
      Already have an account?
      <a routerLink="/login" class="text-blue-600 font-medium hover:underline">Login here</a>
    </div>
  </div>
</div>
